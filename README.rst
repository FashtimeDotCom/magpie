介绍
====
WebQQ 不爽? Wine 和虚拟机太耗费资源? 现在使用此程序, 让XMPP接管QQ.
此程序将WebQQ的消息重定向到指定的XMPP账号上, 然后通过XMPP账号接收
和发送QQ消息.

此项目在 Python 2.7 环境开发, 依赖 `twqq <https://github.com/coldnight/twqq>`_ 
也是在 Python 2.7 环境开发, 目前我也不是很清楚是否能够很好的支持 Python3.
整体都是构建在 pycurl + tornado 的框架上, Python3 应该没有太大问题. 

现在处于初始开发阶段, 很多东西都待完善, 具体的可以看 TODO 事项.



使用教程
========

安装
----

.. code-block:: shell

    python setup.py install

运行
----

安装完成后会生成一个启动脚本 ``magpie``, 可以使用这个脚本运行程序.

.. code-block:: shell

    magpie --xmpp=xmpp_account@xmpp.org --qq=123456 --control=control@xmpp.org

然后根据提示分别填入 XMPP 和 QQ 的账号密码

接收消息
--------

群消息
++++++
群消息举例::

    [Q][Python(2)][cold(3)] 大家好

第一个方括号里 Q 标识这是一条群消息;

第二个方括号标识群名称, 后面紧跟的括号里面的是唯一id, 用于回复消息时用的;

第三个方括号是当前发送消息人的昵称, 后面紧跟的括号里面是唯一id, 用于回复临时
消息(目前尚未实现临时消息)


好友消息
++++++++
好友消息举例::

    [F][cold(3)] 你好

第一个方括号里的 F 标识这是一条好友消息

第二个方括号是发送此消息人的名称, 圆括号里是此好友的唯一标识.

讨论组消息
++++++++++
讨论组消息举例::

    [D][讨论组名(5)][cold(6)] 讨论组的各位好

第一个方括号里 D 标识这是一条讨论组消息

第二个方括号里是讨论组的名字, 和讨论组的唯一id

第三个方括号里是发送消息人的昵称和唯一 id

临时消息
++++++++
**尚未实现**

发送消息
--------
发送消息可以使用 # 符加上对象(讨论组/群/好友)的唯一标识, 然后加上消息, 如果
消息是数字, 请在中间加上空格.

比如回复上面讨论组的消息举例::

    #5 你好

回复上面好友消息举例::

    #3 你也好

回复上面群消息举例::

    #2 大家好


TODO
=====

* ``好友在线列表[完成]``
* 按分组显示全部好友列表
* ``群列表[完成]``
* ``讨论组列表[完成]``
* 群成员列表
* 单独会话模式
* 消息记录存储
* 好友添加
* 确认好友添加
* ``接收图片[完成]``
* ``接收文件[完成]``
* 接收离线文件
* ``状态管理[完成]``
* 好友搜索
* ``获取好友QQ号/群号[完成]``

存在问题
========
* 表情无法正常显示
* 默认不会显示好友QQ号
* 离线文件(这个是WebQQ的问题, 我测试了好多次, 发现离线文件不会正常到达)
